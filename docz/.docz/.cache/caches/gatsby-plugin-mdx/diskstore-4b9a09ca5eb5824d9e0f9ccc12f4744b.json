{"expireTime":9007200832273744000,"key":"gatsby-plugin-mdx-entire-payload-bdc5697694a655dae77e1638ccb266a8-","val":{"mdast":{"type":"root","children":[{"type":"import","value":"import DefaultLayout from \"/home/jeremie/Workspaces/webstorm/projects/harmony/docz/node_modules/gatsby-theme-docz/src/base/Layout.js\"","position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":134,"offset":135},"indent":[]}},{"type":"export","default":true,"value":"export default DefaultLayout","position":{"start":{"line":5,"column":1,"offset":137},"end":{"line":5,"column":29,"offset":165},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"HarmonyJS Persistence","position":{"start":{"line":8,"column":3,"offset":170},"end":{"line":8,"column":24,"offset":191},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":168},"end":{"line":8,"column":24,"offset":191},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"@harmonyjs/persistence","position":{"start":{"line":10,"column":1,"offset":193},"end":{"line":10,"column":25,"offset":217},"indent":[]}},{"type":"text","value":" handles the data of our application. It provides a convenient way to describe our models, and\nconnect them to our databases through accessors.","position":{"start":{"line":10,"column":25,"offset":217},"end":{"line":11,"column":49,"offset":360},"indent":[1]}}],"position":{"start":{"line":10,"column":1,"offset":193},"end":{"line":11,"column":49,"offset":360},"indent":[1]}},{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"strong","children":[{"type":"text","value":"Note:","position":{"start":{"line":13,"column":4,"offset":365},"end":{"line":13,"column":9,"offset":370},"indent":[]}}],"position":{"start":{"line":13,"column":2,"offset":363},"end":{"line":13,"column":11,"offset":372},"indent":[]}},{"type":"text","value":" While not mandatory, ","position":{"start":{"line":13,"column":11,"offset":372},"end":{"line":13,"column":33,"offset":394},"indent":[]}},{"type":"link","title":null,"url":"https://graphql.org/","children":[{"type":"text","value":"GraphQL","position":{"start":{"line":13,"column":34,"offset":395},"end":{"line":13,"column":41,"offset":402},"indent":[]}}],"position":{"start":{"line":13,"column":33,"offset":394},"end":{"line":13,"column":64,"offset":425},"indent":[]}},{"type":"text","value":" is the main target of the persistence module, and is needed","position":{"start":{"line":13,"column":64,"offset":425},"end":{"line":13,"column":124,"offset":485},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":362},"end":{"line":13,"column":125,"offset":486},"indent":[]}},{"type":"text","value":"\n","position":{"start":{"line":13,"column":125,"offset":486},"end":{"line":14,"column":1,"offset":487},"indent":[1]}},{"type":"emphasis","children":[{"type":"text","value":"to take full advantage of HarmonyJS","position":{"start":{"line":14,"column":2,"offset":488},"end":{"line":14,"column":37,"offset":523},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":487},"end":{"line":14,"column":38,"offset":524},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":362},"end":{"line":14,"column":38,"offset":524},"indent":[1]}},{"type":"jsx","value":"<br />","position":{"start":{"line":16,"column":1,"offset":526},"end":{"line":16,"column":7,"offset":532},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"inlineCode","value":"Persistence","position":{"start":{"line":18,"column":4,"offset":537},"end":{"line":18,"column":17,"offset":550},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":534},"end":{"line":18,"column":17,"offset":550},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"@harmonyjs/persistence","position":{"start":{"line":20,"column":1,"offset":552},"end":{"line":20,"column":25,"offset":576},"indent":[]}},{"type":"text","value":" default export is the ","position":{"start":{"line":20,"column":25,"offset":576},"end":{"line":20,"column":48,"offset":599},"indent":[]}},{"type":"inlineCode","value":"Persistence","position":{"start":{"line":20,"column":48,"offset":599},"end":{"line":20,"column":61,"offset":612},"indent":[]}},{"type":"text","value":" constructor.","position":{"start":{"line":20,"column":61,"offset":612},"end":{"line":20,"column":74,"offset":625},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":552},"end":{"line":20,"column":74,"offset":625},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This constructor allows us to create a ","position":{"start":{"line":22,"column":1,"offset":627},"end":{"line":22,"column":40,"offset":666},"indent":[]}},{"type":"inlineCode","value":"Persistence","position":{"start":{"line":22,"column":40,"offset":666},"end":{"line":22,"column":53,"offset":679},"indent":[]}},{"type":"text","value":" instance, which can be configured to handle our database accesses.\nA ","position":{"start":{"line":22,"column":53,"offset":679},"end":{"line":23,"column":3,"offset":749},"indent":[1]}},{"type":"inlineCode","value":"Persistence","position":{"start":{"line":23,"column":3,"offset":749},"end":{"line":23,"column":16,"offset":762},"indent":[]}},{"type":"text","value":" instance only has two publicly available methods: the constructor itself, and an ","position":{"start":{"line":23,"column":16,"offset":762},"end":{"line":23,"column":98,"offset":844},"indent":[]}},{"type":"inlineCode","value":"init","position":{"start":{"line":23,"column":98,"offset":844},"end":{"line":23,"column":104,"offset":850},"indent":[]}},{"type":"text","value":" function. Both those\nfunctions accept the same parameter: an optional ","position":{"start":{"line":23,"column":104,"offset":850},"end":{"line":24,"column":50,"offset":921},"indent":[1]}},{"type":"link","title":null,"url":"#persistenceconfig","children":[{"type":"inlineCode","value":"PersistenceConfig","position":{"start":{"line":24,"column":51,"offset":922},"end":{"line":24,"column":70,"offset":941},"indent":[]}}],"position":{"start":{"line":24,"column":50,"offset":921},"end":{"line":24,"column":91,"offset":962},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":627},"end":{"line":24,"column":91,"offset":962},"indent":[1,1]}},{"type":"jsx","value":"<br />","position":{"start":{"line":26,"column":1,"offset":964},"end":{"line":26,"column":7,"offset":970},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"inlineCode","value":"Persistence::new(","position":{"start":{"line":28,"column":5,"offset":976},"end":{"line":28,"column":24,"offset":995},"indent":[]}},{"type":"link","title":null,"url":"#persistenceconfig","children":[{"type":"inlineCode","value":"PersistenceConfig","position":{"start":{"line":28,"column":25,"offset":996},"end":{"line":28,"column":44,"offset":1015},"indent":[]}}],"position":{"start":{"line":28,"column":24,"offset":995},"end":{"line":28,"column":65,"offset":1036},"indent":[]}},{"type":"inlineCode","value":"?: config): Persistence","position":{"start":{"line":28,"column":65,"offset":1036},"end":{"line":28,"column":90,"offset":1061},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":972},"end":{"line":28,"column":90,"offset":1061},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Constructor to create a new ","position":{"start":{"line":30,"column":1,"offset":1063},"end":{"line":30,"column":29,"offset":1091},"indent":[]}},{"type":"inlineCode","value":"Persistence","position":{"start":{"line":30,"column":29,"offset":1091},"end":{"line":30,"column":42,"offset":1104},"indent":[]}},{"type":"text","value":" instance. It can optionally take a ","position":{"start":{"line":30,"column":42,"offset":1104},"end":{"line":30,"column":78,"offset":1140},"indent":[]}},{"type":"link","title":null,"url":"#persistenceconfig","children":[{"type":"inlineCode","value":"PersistenceConfig","position":{"start":{"line":30,"column":79,"offset":1141},"end":{"line":30,"column":98,"offset":1160},"indent":[]}}],"position":{"start":{"line":30,"column":78,"offset":1140},"end":{"line":30,"column":119,"offset":1181},"indent":[]}},{"type":"text","value":" object as parameter\nto configure the instance.","position":{"start":{"line":30,"column":119,"offset":1181},"end":{"line":31,"column":27,"offset":1228},"indent":[1]}}],"position":{"start":{"line":30,"column":1,"offset":1063},"end":{"line":31,"column":27,"offset":1228},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"No further initialization steps are executed. To initialize our instance, use the ","position":{"start":{"line":33,"column":1,"offset":1230},"end":{"line":33,"column":83,"offset":1312},"indent":[]}},{"type":"inlineCode","value":"Persistence::init","position":{"start":{"line":33,"column":83,"offset":1312},"end":{"line":33,"column":102,"offset":1331},"indent":[]}},{"type":"text","value":" method.","position":{"start":{"line":33,"column":102,"offset":1331},"end":{"line":33,"column":110,"offset":1339},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":1230},"end":{"line":33,"column":110,"offset":1339},"indent":[]}},{"type":"jsx","value":"<b style={{display: \"block\", marginBottom: \"-1.5rem\" }}>Sample usage</b>","position":{"start":{"line":35,"column":1,"offset":1341},"end":{"line":35,"column":73,"offset":1413},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"import Persistence from '@harmonyjs/persistence'\n\n// Initialize a new Persistence instance\nconst persistence = new Persistence()","position":{"start":{"line":37,"column":1,"offset":1415},"end":{"line":42,"column":4,"offset":1553},"indent":[1,1,1,1,1]}},{"type":"jsx","value":"<br />","position":{"start":{"line":44,"column":1,"offset":1555},"end":{"line":44,"column":7,"offset":1561},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"inlineCode","value":"Persistence::init(","position":{"start":{"line":46,"column":5,"offset":1567},"end":{"line":46,"column":25,"offset":1587},"indent":[]}},{"type":"link","title":null,"url":"#persistenceconfig","children":[{"type":"inlineCode","value":"PersistenceConfig","position":{"start":{"line":46,"column":26,"offset":1588},"end":{"line":46,"column":45,"offset":1607},"indent":[]}}],"position":{"start":{"line":46,"column":25,"offset":1587},"end":{"line":46,"column":66,"offset":1628},"indent":[]}},{"type":"inlineCode","value":"?: config): Promise<void>","position":{"start":{"line":46,"column":66,"offset":1628},"end":{"line":46,"column":93,"offset":1655},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":1563},"end":{"line":46,"column":93,"offset":1655},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Initialization function computing our models and setting up our database accessors. It can optionally take a ","position":{"start":{"line":48,"column":1,"offset":1657},"end":{"line":48,"column":110,"offset":1766},"indent":[]}},{"type":"link","title":null,"url":"#persistenceconfig","children":[{"type":"inlineCode","value":"PersistenceConfig","position":{"start":{"line":48,"column":111,"offset":1767},"end":{"line":48,"column":130,"offset":1786},"indent":[]}}],"position":{"start":{"line":48,"column":110,"offset":1766},"end":{"line":48,"column":151,"offset":1807},"indent":[]}},{"type":"text","value":" object as parameter,\nif it was not provided in the constructor.","position":{"start":{"line":48,"column":151,"offset":1807},"end":{"line":49,"column":43,"offset":1871},"indent":[1]}}],"position":{"start":{"line":48,"column":1,"offset":1657},"end":{"line":49,"column":43,"offset":1871},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"This functions returns a ","position":{"start":{"line":51,"column":1,"offset":1873},"end":{"line":51,"column":26,"offset":1898},"indent":[]}},{"type":"inlineCode","value":"Promise","position":{"start":{"line":51,"column":26,"offset":1898},"end":{"line":51,"column":35,"offset":1907},"indent":[]}},{"type":"text","value":" which resolves when the accessors are done loading.","position":{"start":{"line":51,"column":35,"offset":1907},"end":{"line":51,"column":87,"offset":1959},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":1873},"end":{"line":51,"column":87,"offset":1959},"indent":[]}},{"type":"jsx","value":"<b style={{display: \"block\", marginBottom: \"-1.5rem\" }}>Sample usage</b>","position":{"start":{"line":53,"column":1,"offset":1961},"end":{"line":53,"column":73,"offset":2033},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"import Persistence from '@harmonyjs/persistence'\n\nasync function run() {\n    const persistence = new Persistence()\n\n    console.log('Initializing the Persistence instance...')\n\n    await persistence.init({\n        models: [...],\n        accessors: [...],\n    })\n\n    console.log('Persistence instance initialized!')\n}\n\nrun()","position":{"start":{"line":55,"column":1,"offset":2035},"end":{"line":72,"column":4,"offset":2369},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"jsx","value":"<br />","position":{"start":{"line":74,"column":1,"offset":2371},"end":{"line":74,"column":7,"offset":2377},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"inlineCode","value":"Persistence::controllers","position":{"start":{"line":76,"column":5,"offset":2383},"end":{"line":76,"column":31,"offset":2409},"indent":[]}}],"position":{"start":{"line":76,"column":1,"offset":2379},"end":{"line":76,"column":31,"offset":2409},"indent":[]}},{"type":"jsx","value":"<br />","position":{"start":{"line":78,"column":1,"offset":2411},"end":{"line":78,"column":7,"offset":2417},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"PersistenceConfig","position":{"start":{"line":80,"column":4,"offset":2422},"end":{"line":80,"column":21,"offset":2439},"indent":[]}}],"position":{"start":{"line":80,"column":1,"offset":2419},"end":{"line":80,"column":21,"offset":2439},"indent":[]}},{"type":"jsx","value":"<br />","position":{"start":{"line":83,"column":1,"offset":2442},"end":{"line":83,"column":7,"offset":2448},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Types","position":{"start":{"line":85,"column":4,"offset":2453},"end":{"line":85,"column":9,"offset":2458},"indent":[]}}],"position":{"start":{"line":85,"column":1,"offset":2450},"end":{"line":85,"column":9,"offset":2458},"indent":[]}},{"type":"jsx","value":"<br />","position":{"start":{"line":88,"column":1,"offset":2461},"end":{"line":88,"column":7,"offset":2467},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"FieldMode","position":{"start":{"line":90,"column":4,"offset":2472},"end":{"line":90,"column":13,"offset":2481},"indent":[]}}],"position":{"start":{"line":90,"column":1,"offset":2469},"end":{"line":90,"column":13,"offset":2481},"indent":[]}},{"type":"jsx","value":"<br />","position":{"start":{"line":93,"column":1,"offset":2484},"end":{"line":93,"column":7,"offset":2490},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Models","position":{"start":{"line":95,"column":4,"offset":2495},"end":{"line":95,"column":10,"offset":2501},"indent":[]}}],"position":{"start":{"line":95,"column":1,"offset":2492},"end":{"line":95,"column":10,"offset":2501},"indent":[]}},{"type":"export","value":"export const _frontmatter = {}","position":{"start":{"line":98,"column":1,"offset":2504},"end":{"line":98,"column":31,"offset":2534},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":98,"column":31,"offset":2534}}},"scopeImports":[],"scopeIdentifiers":[],"rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\nimport DefaultLayout from \"/home/jeremie/Workspaces/webstorm/projects/harmony/docz/node_modules/gatsby-theme-docz/src/base/Layout.js\"\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"harmonyjs-persistence\"\n    }}>{`HarmonyJS Persistence`}</h1>\n    <p><inlineCode parentName=\"p\">{`@harmonyjs/persistence`}</inlineCode>{` handles the data of our application. It provides a convenient way to describe our models, and\nconnect them to our databases through accessors.`}</p>\n    <p><em parentName=\"p\"><strong parentName=\"em\">{`Note:`}</strong>{` While not mandatory, `}<a parentName=\"em\" {...{\n          \"href\": \"https://graphql.org/\"\n        }}>{`GraphQL`}</a>{` is the main target of the persistence module, and is needed`}</em>{`\n`}<em parentName=\"p\">{`to take full advantage of HarmonyJS`}</em></p>\n    <br />\n    <h2 {...{\n      \"id\": \"persistence\"\n    }}><inlineCode parentName=\"h2\">{`Persistence`}</inlineCode></h2>\n    <p><inlineCode parentName=\"p\">{`@harmonyjs/persistence`}</inlineCode>{` default export is the `}<inlineCode parentName=\"p\">{`Persistence`}</inlineCode>{` constructor.`}</p>\n    <p>{`This constructor allows us to create a `}<inlineCode parentName=\"p\">{`Persistence`}</inlineCode>{` instance, which can be configured to handle our database accesses.\nA `}<inlineCode parentName=\"p\">{`Persistence`}</inlineCode>{` instance only has two publicly available methods: the constructor itself, and an `}<inlineCode parentName=\"p\">{`init`}</inlineCode>{` function. Both those\nfunctions accept the same parameter: an optional `}<a parentName=\"p\" {...{\n        \"href\": \"#persistenceconfig\"\n      }}><inlineCode parentName=\"a\">{`PersistenceConfig`}</inlineCode></a></p>\n    <br />\n    <h3 {...{\n      \"id\": \"persistencenewpersistenceconfig-config-persistence\"\n    }}><inlineCode parentName=\"h3\">{`Persistence::new(`}</inlineCode><a parentName=\"h3\" {...{\n        \"href\": \"#persistenceconfig\"\n      }}><inlineCode parentName=\"a\">{`PersistenceConfig`}</inlineCode></a><inlineCode parentName=\"h3\">{`?: config): Persistence`}</inlineCode></h3>\n    <p>{`Constructor to create a new `}<inlineCode parentName=\"p\">{`Persistence`}</inlineCode>{` instance. It can optionally take a `}<a parentName=\"p\" {...{\n        \"href\": \"#persistenceconfig\"\n      }}><inlineCode parentName=\"a\">{`PersistenceConfig`}</inlineCode></a>{` object as parameter\nto configure the instance.`}</p>\n    <p>{`No further initialization steps are executed. To initialize our instance, use the `}<inlineCode parentName=\"p\">{`Persistence::init`}</inlineCode>{` method.`}</p>\n    <b style={{\n      display: \"block\",\n      marginBottom: \"-1.5rem\"\n    }}>Sample usage</b>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import Persistence from '@harmonyjs/persistence'\n\n// Initialize a new Persistence instance\nconst persistence = new Persistence()\n`}</code></pre>\n    <br />\n    <h3 {...{\n      \"id\": \"persistenceinitpersistenceconfig-config-promisevoid\"\n    }}><inlineCode parentName=\"h3\">{`Persistence::init(`}</inlineCode><a parentName=\"h3\" {...{\n        \"href\": \"#persistenceconfig\"\n      }}><inlineCode parentName=\"a\">{`PersistenceConfig`}</inlineCode></a><inlineCode parentName=\"h3\">{`?: config): Promise<void>`}</inlineCode></h3>\n    <p>{`Initialization function computing our models and setting up our database accessors. It can optionally take a `}<a parentName=\"p\" {...{\n        \"href\": \"#persistenceconfig\"\n      }}><inlineCode parentName=\"a\">{`PersistenceConfig`}</inlineCode></a>{` object as parameter,\nif it was not provided in the constructor.`}</p>\n    <p>{`This functions returns a `}<inlineCode parentName=\"p\">{`Promise`}</inlineCode>{` which resolves when the accessors are done loading.`}</p>\n    <b style={{\n      display: \"block\",\n      marginBottom: \"-1.5rem\"\n    }}>Sample usage</b>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import Persistence from '@harmonyjs/persistence'\n\nasync function run() {\n    const persistence = new Persistence()\n\n    console.log('Initializing the Persistence instance...')\n\n    await persistence.init({\n        models: [...],\n        accessors: [...],\n    })\n\n    console.log('Persistence instance initialized!')\n}\n\nrun()\n`}</code></pre>\n    <br />\n    <h3 {...{\n      \"id\": \"persistencecontrollers\"\n    }}><inlineCode parentName=\"h3\">{`Persistence::controllers`}</inlineCode></h3>\n    <br />\n    <h2 {...{\n      \"id\": \"persistenceconfig\"\n    }}>{`PersistenceConfig`}</h2>\n    <br />\n    <h2 {...{\n      \"id\": \"types\"\n    }}>{`Types`}</h2>\n    <br />\n    <h2 {...{\n      \"id\": \"fieldmode\"\n    }}>{`FieldMode`}</h2>\n    <br />\n    <h2 {...{\n      \"id\": \"models\"\n    }}>{`Models`}</h2>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}